<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>XYPHER - Sikkim Trails</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Animated Background -->
  <div class="cyber-bg"></div>
  
  <!-- Main Container -->
  <div class="cyber-container">
    <!-- Header -->
    <header class="cyber-header">
      <div class="cyber-brand">
        <span class="brand-icon">‚ñ≥</span>
        <span class="brand-text">XYPHER</span>
      </div>
      <input type="text" class="cyber-search" placeholder="Search..." />
      <div class="system-status">SYSTEM ONLINE</div>
    </header>

    <!-- Navigation -->
    <nav class="cyber-nav">
      <button class="nav-btn active" data-section="welcome">Dashboard</button>
      <button class="nav-btn" data-section="monasteries">Monasteries</button>
      <button class="nav-btn" data-section="achievements">Taste Achievements</button>
      <button class="nav-btn" data-section="culture">Culture</button>
      <button class="nav-btn" data-section="map">Food Map</button>
    </nav>

    <!-- Content Sections -->
    <main class="cyber-main">
      <!-- Welcome Section -->
      <section id="welcome" class="cyber-section active">
        <div class="welcome-panel">
          <div class="system-online-btn">‚¶ó SYSTEM ONLINE ‚¶ò</div>
          <h1 class="welcome-title">WELCOME<br>TO XYPHER</h1>
          <div class="welcome-subtitle">[INITIATING SPIRITUAL QUEST PROTOCOL]</div>
          <div class="welcome-desc">
            Embark on a <span class="highlight">gamified journey</span> through sacred 
            monasteries. <span class="highlight">Earn XP, unlock achievements</span>, and 
            discover the digital heart of the Himalayas.
          </div>
        </div>
      </section>

      <!-- Monasteries Section -->
      <section id="monasteries" class="cyber-section">
        <h2 class="section-title">‚ú¶ MONASTERIES QUEST ‚ú¶</h2>
        <div class="cards-grid">
          <div class="monastery-card">
            <img src="1000020084.jpg" alt="Rumtek" class="card-image">
            <h3 class="card-title">RUMTEK</h3>
            <p class="card-desc">Home of the Karmapa, golden roofs, rituals.</p>
            <div class="card-buttons">
              <button onclick="openInfo('Rumtek')" class="btn-info">Info</button>
              <button onclick="openMap(27.3158, 88.5465)" class="btn-locate">Locate</button>
            </div>
          </div>
          
          <div class="monastery-card">
            <img src="1000020087.jpg" alt="Pemayangtse" class="card-image">
            <h3 class="card-title">PEMAYANGTSE</h3>
            <p class="card-desc">Nyingma treasure, Zangdok Palri sculpture.</p>
            <div class="card-buttons">
              <button onclick="openInfo('Pemayangtse')" class="btn-info">Info</button>
              <button onclick="openMap(27.2945, 88.2122)" class="btn-locate">Locate</button>
            </div>
          </div>
          
          <div class="monastery-card">
            <img src="1000020090.jpg" alt="Ralang" class="card-image">
            <h3 class="card-title">RALANG</h3>
            <p class="card-desc">Cham dances, murals, festivals.</p>
            <div class="card-buttons">
              <button onclick="openInfo('Ralang')" class="btn-info">Info</button>
              <button onclick="openMap(27.219, 88.366)" class="btn-locate">Locate</button>
            </div>
          </div>
          
          <div class="monastery-card">
            <img src="1000020093.jpg" alt="Dubdi" class="card-image">
            <h3 class="card-title">DUBDI</h3>
            <p class="card-desc">Oldest Sikkim monastery, forest retreat.</p>
            <div class="card-buttons">
              <button onclick="openInfo('Dubdi')" class="btn-info">Info</button>
              <button onclick="openMap(27.3667, 88.2167)" class="btn-locate">Locate</button>
            </div>
          </div>
          
          <div class="monastery-card">
            <img src="1000020092.jpg" alt="Phodong" class="card-image">
            <h3 class="card-title">PHODONG</h3>
            <p class="card-desc">Kagyu lineage, murals, Cham dances.</p>
            <div class="card-buttons">
              <button onclick="openInfo('Phodong')" class="btn-info">Info</button>
              <button onclick="openMap(27.3668, 88.6014)" class="btn-locate">Locate</button>
            </div>
          </div>
          
          <div class="monastery-card">
            <img src="1000020094.jpg" alt="Enchey" class="card-image">
            <h3 class="card-title">ENCHEY</h3>
            <p class="card-desc">Guardian of Gangtok, chaam festival.</p>
            <div class="card-buttons">
              <button onclick="openInfo('Enchey')" class="btn-info">Info</button>
              <button onclick="openMap(27.3389, 88.6167)" class="btn-locate">Locate</button>
            </div>
          </div>
          
          <div class="monastery-card">
            <img src="1000020081.jpg" alt="Tsuklakhang" class="card-image">
            <h3 class="card-title">TSUKLAKHANG</h3>
            <p class="card-desc">Royal chapel, prayer flags, relics.</p>
            <div class="card-buttons">
              <button onclick="openInfo('Tsuklakhang')" class="btn-info">Info</button>
              <button onclick="openMap(27.334, 88.613)" class="btn-locate">Locate</button>
            </div>
          </div>
        </div>
      </section>

      <!-- Taste Achievements Section -->
      <section id="achievements" class="cyber-section">
        <h2 class="section-title">‚ú¶ TASTE ACHIEVEMENTS ‚ú¶</h2>
        <div class="cards-grid">
          <div class="achievement-card">
            <div class="achievement-icon">ü•ü</div>
            <h3 class="achievement-title">FAST BITE</h3>
            <p class="achievement-desc">Try your first Sikkimese dish</p>
            <div class="xp-badge">+100 XP</div>
          </div>
          
          <div class="achievement-card">
            <div class="achievement-icon">ü•ü</div>
            <h3 class="achievement-title">MOMO MONSTER</h3>
            <p class="achievement-desc">Try 5 different types of momos</p>
            <div class="xp-badge">+250 XP</div>
          </div>
          
          <div class="achievement-card">
            <div class="achievement-icon">ü•ò</div>
            <h3 class="achievement-title">CHHURPI COLLECTOR</h3>
            <p class="achievement-desc">Taste local yak cheese</p>
            <div class="xp-badge">+150 XP</div>
          </div>
          
          <div class="achievement-card">
            <div class="achievement-icon">üçú</div>
            <h3 class="achievement-title">THUKPA MASTER</h3>
            <p class="achievement-desc">Enjoy traditional noodle soup</p>
            <div class="xp-badge">+120 XP</div>
          </div>
          
          <div class="achievement-card">
            <div class="achievement-icon">üç∫</div>
            <h3 class="achievement-title">CHANG CHAMPION</h3>
            <p class="achievement-desc">Try traditional millet beer</p>
            <div class="xp-badge">+200 XP</div>
          </div>
        </div>
      </section>

      <!-- Culture Section -->
      <section id="culture" class="cyber-section">
        <h2 class="section-title">‚ú¶ CULTURE DATABASE ‚ú¶</h2>
        <div class="culture-grid">
          <div class="culture-card">
            <h3>üèîÔ∏è ETHNIC GROUPS</h3>
            <p>Lepcha, Bhutia, Nepali communities with unique traditions and languages.</p>
          </div>
          <div class="culture-card">
            <h3>üé≠ FESTIVALS</h3>
            <p>Pang Lhabsol, Losoong, Saga Dawa - vibrant celebrations throughout the year.</p>
          </div>
          <div class="culture-card">
            <h3>üçú CUISINE</h3>
            <p>Momos, Thukpa, Chhurpi, Chang - authentic flavors of the Himalayas.</p>
          </div>
        </div>
      </section>

      <!-- Live Map Section -->
      <section id="map" class="cyber-section">
        <h2 class="section-title">‚ú¶ LIVE MONASTERY MAP ‚ú¶</h2>
        <div class="map-container">
          <div id="live-map" class="live-map"></div>
          <div class="map-controls">
            <button onclick="locateUser()" class="control-btn">üìç Find Me</button>
            <button onclick="showAllMonasteries()" class="control-btn">üèØ Show All</button>
          </div>
        </div>
        
        <!-- Coming Soon Panel -->
        <div class="coming-soon">
          <h3>COMING SOON</h3>
          <p>Navigate through Sikkim's food landscape with our interactive vendor map.</p>
          <button class="cta-btn">ENABLE LOCATION SERVICES</button>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="cyber-footer">
      <div class="footer-section">
        <h4>‚ú¶ XYPHER NEURAL NET ‚ú¶</h4>
        <p>Advanced digital gateway for exploring spiritual and cultural heritage through immersive gamification protocols.</p>
      </div>
      <div class="footer-section">
        <h4>‚ú¶ QUICK ACCESS ‚ú¶</h4>
        <ul>
          <li><a href="#" onclick="switchSection('monasteries')">‚Üí Monastery Grid</a></li>
          <li><a href="#" onclick="switchSection('culture')">‚Üí Culture Database</a></li>
          <li><a href="#" onclick="switchSection('achievements')">‚Üí Food Quest</a></li>
          <li><a href="#" onclick="switchSection('map')">‚Üí System Info</a></li>
        </ul>
      </div>
      <div class="footer-bottom">
        <p>‚ú¶ CONTACT NODE ‚ú¶</p>
        <p>¬© 2024 XYPHER Neural Network. All systems operational.</p>
      </div>
    </footer>
  </div>

  <!-- Scripts -->
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
  <script>
    // Navigation functionality
    function switchSection(sectionId) {
      // Hide all sections
      document.querySelectorAll('.cyber-section').forEach(section => {
        section.classList.remove('active');
      });
      
      // Remove active class from all nav buttons
      document.querySelectorAll('.nav-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      
      // Show selected section
      document.getElementById(sectionId).classList.add('active');
      
      // Add active class to corresponding nav button
      document.querySelector(`[data-section="${sectionId}"]`).classList.add('active');
      
      // Initialize map if map section is selected
      if (sectionId === 'map' && !window.mapInitialized) {
        initializeMap();
      }
    }

    // Navigation event listeners
    document.querySelectorAll('.nav-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        switchSection(btn.dataset.section);
      });
    });

    // Info button functionality
    function openInfo(monasteryName) {
      const wikipediaUrls = {
        'Rumtek': 'https://en.wikipedia.org/wiki/Rumtek_Monastery',
        'Pemayangtse': 'https://en.wikipedia.org/wiki/Pemayangtse_Monastery',
        'Ralang': 'https://en.wikipedia.org/wiki/Ralang_Monastery',
        'Dubdi': 'https://en.wikipedia.org/wiki/Dubdi_Monastery',
        'Phodong': 'https://en.wikipedia.org/wiki/Phodong_Monastery',
        'Enchey': 'https://en.wikipedia.org/wiki/Enchey_Monastery',
        'Tsuklakhang': 'https://en.wikipedia.org/wiki/Tsuklakhang_Palace'
      };
      window.open(wikipediaUrls[monasteryName], '_blank');
    }

    // Map functionality
    let map;
    let userMarker;
    window.mapInitialized = false;

    const monasteries = [
      {name: "Rumtek", coords: [27.3158, 88.5465]},
      {name: "Pemayangtse", coords: [27.2945, 88.2122]},
      {name: "Ralang", coords: [27.219, 88.366]},
      {name: "Dubdi", coords: [27.3667, 88.2167]},
      {name: "Phodong", coords: [27.3668, 88.6014]},
      {name: "Enchey", coords: [27.3389, 88.6167]},
      {name: "Tsuklakhang", coords: [27.334, 88.613]}
    ];

    function initializeMap() {
      map = L.map('live-map').setView([27.33, 88.62], 9);
      
      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '¬© OpenStreetMap contributors'
      }).addTo(map);

      // Add monastery markers
      monasteries.forEach(monastery => {
        const marker = L.marker(monastery.coords).addTo(map);
        marker.bindPopup(`
          <div class="popup-content">
            <h4>${monastery.name}</h4>
            <button onclick="openDirections(${monastery.coords[0]}, ${monastery.coords[1]})" class="popup-btn">Get Directions</button>
          </div>
        `);
      });

      window.mapInitialized = true;
    }

    function openMap(lat, lng) {
      switchSection('map');
      setTimeout(() => {
        if (!window.mapInitialized) {
          initializeMap();
        }
        map.setView([lat, lng], 12);
      }, 100);
    }

    function openDirections(lat, lng) {
      window.open(`https://www.google.com/maps/dir/?api=1&destination=${lat},${lng}`, '_blank');
    }

    function locateUser() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(function(position) {
          const userLat = position.coords.latitude;
          const userLng = position.coords.longitude;
          
          if (userMarker) {
            map.removeLayer(userMarker);
          }
          
          userMarker = L.circleMarker([userLat, userLng], {
            color: '#00ffff',
            fillColor: '#00ffff',
            fillOpacity: 0.8,
            radius: 10
          }).addTo(map);
          
          userMarker.bindPopup("üìç You are here!");
          map.setView([userLat, userLng], 12);
        });
      }
    }

    function showAllMonasteries() {
      const group = new L.featureGroup(monasteries.map(m => L.marker(m.coords)));
      map.fitBounds(group.getBounds().pad(0.1));
    }

    // Auto-switch from welcome to monasteries after 3 seconds
    setTimeout(() => {
      switchSection('monasteries');
    }, 3000);
  </script>
</body>
</html>
